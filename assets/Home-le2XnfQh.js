var t,e,o,s,r,i,n,a,c,p,l,h,d,u,m,g,f,b,x,w,v,P,k,y,j,N,R=t=>{throw TypeError(t)},I=(t,e,o)=>e.has(t)||R("Cannot "+o),G=(t,e,o)=>(I(t,e,"read from private field"),o?o.call(t):e.get(t)),D=(t,e,o)=>e.has(t)?R("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,o),$=(t,e,o,s)=>(I(t,e,"write to private field"),s?s.call(t,o):e.set(t,o),o),B=(t,e,o)=>(I(t,e,"access private method"),o);import{S as O,p as M,r as C,s as _,a as L,n as S,i as E,b as T,t as F,f as W,c as A,d as U,e as X,g as q,h as Q,j as V,u as H,k as z,P as Z,L as K}from"./index-CwTZoTrS.js";import{r as Y,a as J}from"./react-BoUszJqa.js";var tt=(N=class extends O{constructor(f,b){super(),D(this,g),D(this,t),D(this,e),D(this,o),D(this,s),D(this,r),D(this,i),D(this,n),D(this,a),D(this,c),D(this,p),D(this,l),D(this,h),D(this,d),D(this,u),D(this,m,new Set),this.options=b,$(this,t,f),$(this,a,null),$(this,n,M()),this.options.experimental_prefetchInRender||G(this,n).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(b)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(G(this,e).addObserver(this),et(G(this,e),this.options)?B(this,g,f).call(this):this.updateResult(),B(this,g,v).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ot(G(this,e),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ot(G(this,e),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,B(this,g,P).call(this),B(this,g,k).call(this),G(this,e).removeObserver(this)}setOptions(o,s){const r=this.options,i=G(this,e);if(this.options=G(this,t).defaultQueryOptions(o),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof C(this.options.enabled,G(this,e)))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");B(this,g,y).call(this),G(this,e).setOptions(this.options),r._defaulted&&!_(this.options,r)&&G(this,t).getQueryCache().notify({type:"observerOptionsUpdated",query:G(this,e),observer:this});const n=this.hasListeners();n&&st(G(this,e),i,this.options,r)&&B(this,g,f).call(this),this.updateResult(s),!n||G(this,e)===i&&C(this.options.enabled,G(this,e))===C(r.enabled,G(this,e))&&L(this.options.staleTime,G(this,e))===L(r.staleTime,G(this,e))||B(this,g,b).call(this);const a=B(this,g,x).call(this);!n||G(this,e)===i&&C(this.options.enabled,G(this,e))===C(r.enabled,G(this,e))&&a===G(this,u)||B(this,g,w).call(this,a)}getOptimisticResult(o){const n=G(this,t).getQueryCache().build(G(this,t),o),a=this.createResult(n,o);return function(t,e){if(!_(t.getCurrentResult(),e))return!0;return!1}(this,a)&&($(this,s,a),$(this,i,this.options),$(this,r,G(this,e).state)),a}getCurrentResult(){return G(this,s)}trackResult(t,e){const o={};return Object.keys(t).forEach((s=>{Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),null==e||e(s),t[s])})})),o}trackProp(t){G(this,m).add(t)}getCurrentQuery(){return G(this,e)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(e){const o=G(this,t).defaultQueryOptions(e),s=G(this,t).getQueryCache().build(G(this,t),o);return s.fetch().then((()=>this.createResult(s,o)))}fetch(t){return B(this,g,f).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then((()=>(this.updateResult(),G(this,s))))}createResult(t,h){var d;const u=G(this,e),m=this.options,g=G(this,s),f=G(this,r),b=G(this,i),x=t!==u?t.state:G(this,o),{state:w}=t;let v,P={...w},k=!1;if(h._optimisticResults){const e=this.hasListeners(),o=!e&&et(t,h),s=e&&st(t,u,h,m);(o||s)&&(P={...P,...A(w.data,t.options)}),"isRestoring"===h._optimisticResults&&(P.fetchStatus="idle")}let{error:y,errorUpdatedAt:j,status:N}=P;if(h.select&&void 0!==P.data)if(g&&P.data===(null==f?void 0:f.data)&&h.select===G(this,c))v=G(this,p);else try{$(this,c,h.select),v=h.select(P.data),v=U(null==g?void 0:g.data,v,h),$(this,p,v),$(this,a,null)}catch(_){$(this,a,_)}else v=P.data;if(void 0!==h.placeholderData&&void 0===v&&"pending"===N){let t;if((null==g?void 0:g.isPlaceholderData)&&h.placeholderData===(null==b?void 0:b.placeholderData))t=g.data;else if(t="function"==typeof h.placeholderData?h.placeholderData(null==(d=G(this,l))?void 0:d.state.data,G(this,l)):h.placeholderData,h.select&&void 0!==t)try{t=h.select(t),$(this,a,null)}catch(_){$(this,a,_)}void 0!==t&&(N="success",v=U(null==g?void 0:g.data,t,h),k=!0)}G(this,a)&&(y=G(this,a),v=G(this,p),j=Date.now(),N="error");const R="fetching"===P.fetchStatus,I="pending"===N,D="error"===N,B=I&&R,O=void 0!==v,C={status:N,fetchStatus:P.fetchStatus,isPending:I,isSuccess:"success"===N,isError:D,isInitialLoading:B,isLoading:B,data:v,dataUpdatedAt:P.dataUpdatedAt,error:y,errorUpdatedAt:j,failureCount:P.fetchFailureCount,failureReason:P.fetchFailureReason,errorUpdateCount:P.errorUpdateCount,isFetched:P.dataUpdateCount>0||P.errorUpdateCount>0,isFetchedAfterMount:P.dataUpdateCount>x.dataUpdateCount||P.errorUpdateCount>x.errorUpdateCount,isFetching:R,isRefetching:R&&!I,isLoadingError:D&&!O,isPaused:"paused"===P.fetchStatus,isPlaceholderData:k,isRefetchError:D&&O,isStale:rt(t,h),refetch:this.refetch,promise:G(this,n)};if(this.options.experimental_prefetchInRender){const e=t=>{"error"===C.status?t.reject(C.error):void 0!==C.data&&t.resolve(C.data)},o=()=>{const t=$(this,n,C.promise=M());e(t)},s=G(this,n);switch(s.status){case"pending":t.queryHash===u.queryHash&&e(s);break;case"fulfilled":"error"!==C.status&&C.data===s.value||o();break;case"rejected":"error"===C.status&&C.error===s.reason||o()}}return C}updateResult(t){const o=G(this,s),n=this.createResult(G(this,e),this.options);if($(this,r,G(this,e).state),$(this,i,this.options),void 0!==G(this,r).data&&$(this,l,G(this,e)),_(n,o))return;$(this,s,n);const a={};!1!==(null==t?void 0:t.listeners)&&(()=>{if(!o)return!0;const{notifyOnChangeProps:t}=this.options,e="function"==typeof t?t():t;if("all"===e||!e&&!G(this,m).size)return!0;const r=new Set(e??G(this,m));return this.options.throwOnError&&r.add("error"),Object.keys(G(this,s)).some((t=>{const e=t;return G(this,s)[e]!==o[e]&&r.has(e)}))})()&&(a.listeners=!0),B(this,g,j).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&B(this,g,v).call(this)}},t=new WeakMap,e=new WeakMap,o=new WeakMap,s=new WeakMap,r=new WeakMap,i=new WeakMap,n=new WeakMap,a=new WeakMap,c=new WeakMap,p=new WeakMap,l=new WeakMap,h=new WeakMap,d=new WeakMap,u=new WeakMap,m=new WeakMap,g=new WeakSet,f=function(t){B(this,g,y).call(this);let o=G(this,e).fetch(this.options,t);return(null==t?void 0:t.throwOnError)||(o=o.catch(S)),o},b=function(){B(this,g,P).call(this);const t=L(this.options.staleTime,G(this,e));if(E||G(this,s).isStale||!T(t))return;const o=F(G(this,s).dataUpdatedAt,t);$(this,h,setTimeout((()=>{G(this,s).isStale||this.updateResult()}),o+1))},x=function(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(G(this,e)):this.options.refetchInterval)??!1},w=function(t){B(this,g,k).call(this),$(this,u,t),!E&&!1!==C(this.options.enabled,G(this,e))&&T(G(this,u))&&0!==G(this,u)&&$(this,d,setInterval((()=>{(this.options.refetchIntervalInBackground||W.isFocused())&&B(this,g,f).call(this)}),G(this,u)))},v=function(){B(this,g,b).call(this),B(this,g,w).call(this,B(this,g,x).call(this))},P=function(){G(this,h)&&(clearTimeout(G(this,h)),$(this,h,void 0))},k=function(){G(this,d)&&(clearInterval(G(this,d)),$(this,d,void 0))},y=function(){const s=G(this,t).getQueryCache().build(G(this,t),this.options);if(s===G(this,e))return;const r=G(this,e);$(this,e,s),$(this,o,s.state),this.hasListeners()&&(null==r||r.removeObserver(this),s.addObserver(this))},j=function(o){X.batch((()=>{o.listeners&&this.listeners.forEach((t=>{t(G(this,s))})),G(this,t).getQueryCache().notify({query:G(this,e),type:"observerResultsUpdated"})}))},N);function et(t,e){return function(t,e){return!1!==C(e.enabled,t)&&void 0===t.state.data&&!("error"===t.state.status&&!1===e.retryOnMount)}(t,e)||void 0!==t.state.data&&ot(t,e,e.refetchOnMount)}function ot(t,e,o){if(!1!==C(e.enabled,t)){const s="function"==typeof o?o(t):o;return"always"===s||!1!==s&&rt(t,e)}return!1}function st(t,e,o,s){return(t!==e||!1===C(s.enabled,t))&&(!o.suspense||"error"!==t.state.status)&&rt(t,o)}function rt(t,e){return!1!==C(e.enabled,t)&&t.isStaleByTime(L(e.staleTime,t))}var it=class extends tt{constructor(t,e){super(t,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t,e){super.setOptions({...t,behavior:q()},e)}getOptimisticResult(t){return t.behavior=q(),super.getOptimisticResult(t)}fetchNextPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"backward"}}})}createResult(t,e){var o,s;const{state:r}=t,i=super.createResult(t,e),{isFetching:n,isRefetching:a,isError:c,isRefetchError:p}=i,l=null==(s=null==(o=r.fetchMeta)?void 0:o.fetchMore)?void 0:s.direction,h=c&&"forward"===l,d=n&&"forward"===l,u=c&&"backward"===l,m=n&&"backward"===l;return{...i,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:V(e,r.data),hasPreviousPage:Q(e,r.data),isFetchNextPageError:h,isFetchingNextPage:d,isFetchPreviousPageError:u,isFetchingPreviousPage:m,isRefetchError:p&&!h&&!u,isRefetching:a&&!d&&!m}}},nt=Y.createContext(!1);nt.Provider;var at=Y.createContext(function(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}());function ct(){}var pt=(t,e,o)=>e.fetchOptimistic(t).catch((()=>{o.clearReset()}));function lt(t,e,o){var s,r,i,n,a;const c=H(),p=Y.useContext(nt),l=Y.useContext(at),h=c.defaultQueryOptions(t);null==(r=null==(s=c.getDefaultOptions().queries)?void 0:s._experimental_beforeQuery)||r.call(s,h),h._optimisticResults=p?"isRestoring":"optimistic",(t=>{const e=t.staleTime;t.suspense&&(t.staleTime="function"==typeof e?(...t)=>Math.max(e(...t),1e3):Math.max(e??1e3,1e3),"number"==typeof t.gcTime&&(t.gcTime=Math.max(t.gcTime,1e3)))})(h),((t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))})(h,l),(t=>{Y.useEffect((()=>{t.clearReset()}),[t])})(l);const d=!c.getQueryCache().get(h.queryHash),[u]=Y.useState((()=>new e(c,h))),m=u.getOptimisticResult(h),g=!p&&!1!==t.subscribed;if(Y.useSyncExternalStore(Y.useCallback((t=>{const e=g?u.subscribe(X.batchCalls(t)):ct;return u.updateResult(),e}),[u,g]),(()=>u.getCurrentResult()),(()=>u.getCurrentResult())),Y.useEffect((()=>{u.setOptions(h,{listeners:!1})}),[h,u]),((t,e)=>(null==t?void 0:t.suspense)&&e.isPending)(h,m))throw pt(h,u,l);if((({result:t,errorResetBoundary:e,throwOnError:o,query:s,suspense:r})=>{return t.isError&&!e.isReset()&&!t.isFetching&&s&&(r&&void 0===t.data||(i=o,n=[t.error,s],"function"==typeof i?i(...n):!!i));var i,n})({result:m,errorResetBoundary:l,throwOnError:h.throwOnError,query:c.getQueryCache().get(h.queryHash),suspense:h.suspense}))throw m.error;if(null==(n=null==(i=c.getDefaultOptions().queries)?void 0:i._experimental_afterQuery)||n.call(i,h,m),h.experimental_prefetchInRender&&!E&&((t,e)=>t.isLoading&&t.isFetching&&!e)(m,p)){const t=d?pt(h,u,l):null==(a=c.getQueryCache().get(h.queryHash))?void 0:a.promise;null==t||t.catch(ct).finally((()=>{u.updateResult()}))}return h.notifyOnChangeProps?m:u.trackResult(m)}const ht=[{productName:"Produto 1",productDescription:"Descrição do Produto 1",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 10,00"},{productName:"iPhone 12",productDescription:"Apple iPhone 12 com 64GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 20,00"},{productName:"Samsung Galaxy S21",productDescription:"Samsung Galaxy S21 com 128GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 30,00"},{productName:"Xiaomi Mi 11",productDescription:"Xiaomi Mi 11 com 256GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 40,00"},{productName:"OnePlus 9",productDescription:"OnePlus 9 com 128GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 50,00"},{productName:"Google Pixel 5",productDescription:"Google Pixel 5 com 128GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 60,00"},{productName:"Sony Xperia 1 II",productDescription:"Sony Xperia 1 II com 256GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 70,00"},{productName:"Huawei P40 Pro",productDescription:"Huawei P40 Pro com 256GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 80,00"},{productName:"Nokia 8.3 5G",productDescription:"Nokia 8.3 5G com 128GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 90,00"},{productName:"Motorola Edge Plus",productDescription:"Motorola Edge Plus com 256GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 100,00"},{productName:"Asus ROG Phone 5",productDescription:"Asus ROG Phone 5 com 256GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 110,00"},{productName:"LG Wing",productDescription:"LG Wing com 128GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 120,00"},{productName:"Oppo Find X3 Pro",productDescription:"Oppo Find X3 Pro com 256GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 130,00"},{productName:"Realme GT",productDescription:"Realme GT com 128GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 140,00"},{productName:"Vivo X60 Pro",productDescription:"Vivo X60 Pro com 256GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 150,00"},{productName:"ZTE Axon 30 Ultra",productDescription:"ZTE Axon 30 Ultra com 256GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 160,00"},{productName:"Lenovo Legion Phone Duel",productDescription:"Lenovo Legion Phone Duel com 256GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 170,00"},{productName:"iPhone 12 Pro Max",productDescription:"Apple iPhone 12 Pro Max com 512GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 180,00"},{productName:"Samsung Galaxy Note 20 Ultra",productDescription:"Samsung Galaxy Note 20 Ultra com 512GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 190,00"},{productName:"Xiaomi Mi 10T Pro",productDescription:"Xiaomi Mi 10T Pro com 256GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 200,00"},{productName:"OnePlus 8T",productDescription:"OnePlus 8T com 256GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 210,00"},{productName:"Google Pixel 4a",productDescription:"Google Pixel 4a com 128GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 220,00"},{productName:"Sony Xperia 5 II",productDescription:"Sony Xperia 5 II com 128GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 230,00"},{productName:"Huawei Mate 40 Pro",productDescription:"Huawei Mate 40 Pro com 256GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 240,00"},{productName:"Nokia 7.2",productDescription:"Nokia 7.2 com 128GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 250,00"},{productName:"Motorola Moto G100",productDescription:"Motorola Moto G100 com 128GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 260,00"},{productName:"Asus Zenfone 7 Pro",productDescription:"Asus Zenfone 7 Pro com 256GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 270,00"},{productName:"LG Velvet",productDescription:"LG Velvet com 128GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 280,00"},{productName:"Oppo Reno 5 Pro",productDescription:"Oppo Reno 5 Pro com 256GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 290,00"},{productName:"Realme X50 Pro",productDescription:"Realme X50 Pro com 256GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 300,00"},{productName:"Vivo V21",productDescription:"Vivo V21 com 128GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 310,00"},{productName:"ZTE Nubia Red Magic 5G",productDescription:"ZTE Nubia Red Magic 5G com 256GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 320,00"},{productName:"Lenovo K12 Pro",productDescription:"Lenovo K12 Pro com 128GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 330,00"},{productName:"iPhone SE",productDescription:"Apple iPhone SE com 64GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 340,00"},{productName:"Samsung Galaxy A52",productDescription:"Samsung Galaxy A52 com 128GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 350,00"},{productName:"Xiaomi Redmi Note 10",productDescription:"Xiaomi Redmi Note 10 com 128GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 360,00"},{productName:"OnePlus Nord",productDescription:"OnePlus Nord com 128GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 370,00"},{productName:"Google Pixel 4 XL",productDescription:"Google Pixel 4 XL com 128GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 380,00"},{productName:"Sony Xperia 10 II",productDescription:"Sony Xperia 10 II com 128GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 390,00"},{productName:"Huawei P30 Pro",productDescription:"Huawei P30 Pro com 256GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 400,00"},{productName:"Nokia 6.2",productDescription:"Nokia 6.2 com 64GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 410,00"},{productName:"Motorola Moto G9 Plus",productDescription:"Motorola Moto G9 Plus com 128GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 420,00"},{productName:"Asus ROG Phone 3",productDescription:"Asus ROG Phone 3 com 512GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 430,00"},{productName:"LG G8X ThinQ",productDescription:"LG G8X ThinQ com 128GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 440,00"},{productName:"Oppo A93",productDescription:"Oppo A93 com 128GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 450,00"},{productName:"Realme 7 Pro",productDescription:"Realme 7 Pro com 128GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 460,00"},{productName:"Vivo Y20",productDescription:"Vivo Y20 com 64GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 470,00"},{productName:"ZTE Blade V2020",productDescription:"ZTE Blade V2020 com 128GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 480,00"},{productName:"Lenovo Legion Pro",productDescription:"Lenovo Legion Pro com 512GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 490,00"},{productName:"iPhone 11",productDescription:"Apple iPhone 11 com 128GB",productImg:"https://st2.depositphotos.com/1017228/9399/i/450/depositphotos_93990140-stock-photo-cheerful-woman-showing-blank-smartphone.jpg",productPrice:"R$ 500,00"}],dt=async({page:t=1,limit:e=10,search:o="",priceFilter:s="all"})=>{await new Promise((t=>setTimeout(t,300)));let r=[...ht];if(null==o?void 0:o.trim()){const t=o.toLowerCase();r=r.filter((e=>{var o,s;return(null==(o=e.productName)?void 0:o.toLowerCase().includes(t))||(null==(s=e.productDescription)?void 0:s.toLowerCase().includes(t))}))}"all"!==s&&(r=r.filter((t=>{const e=(t=>{if(!t||"string"!=typeof t)return 0;try{return parseFloat(t.replace(/[^\d,]/g,"").replace(",","."))}catch(e){return 0}})(t.productPrice);switch(s){case"under50":return e<50;case"50to100":return e>=50&&e<=100;case"over100":return e>100;default:return!0}})));const i=r.length,n=(t-1)*e,a=Math.min(n+e,i),c=r.slice(n,a),p=Math.ceil(i/e);return{products:c,total:i,page:t,totalPages:p,hasMore:t<p}};function ut(t,e,o=0){return lt({queryKey:["products",t,e,o],queryFn:async({pageParam:o=1})=>{try{return await dt({page:o,limit:10,search:t,priceFilter:e})}catch(s){throw s}},getNextPageParam:t=>(null==t?void 0:t.hasMore)?t.page+1:void 0,refetchOnWindowFocus:!1,staleTime:3e5,retry:1},it)}function mt({value:t="all",onChange:e,label:o="Filtrar por preço"}){const s=Y.useId();return z.jsxs("div",{children:[z.jsx("label",{htmlFor:s,className:"block text-sm font-medium text-gray-700 mb-1",children:o}),z.jsx("select",{id:s,value:t,onChange:t=>e(t.target.value),className:"block w-full py-2 px-3 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500","aria-label":o,children:[{value:"all",label:"Todos os preços"},{value:"under50",label:"Menos de R$50"},{value:"50to100",label:"Entre R$50 e R$100"},{value:"over100",label:"Mais de R$100"}].map((t=>z.jsx("option",{value:t.value,children:t.label},t.value)))})]})}function gt({message:t,onRetry:e}){return z.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 my-4 rounded-md",role:"alert","aria-live":"assertive",children:z.jsxs("div",{className:"flex items-start",children:[z.jsx("div",{className:"flex-shrink-0",children:z.jsx("svg",{className:"h-6 w-6 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),z.jsxs("div",{className:"ml-3",children:[z.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Erro ao carregar dados"}),z.jsx("p",{className:"text-sm text-red-700 mt-1",children:t}),e&&z.jsx("div",{className:"mt-4",children:z.jsx("button",{type:"button",onClick:e,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Tentar novamente"})})]})]})})}function ft({onSearch:t,initialValue:e="",placeholder:o="Buscar produtos...",label:s="Buscar",debounceTime:r=300}){const[i,n]=Y.useState(e),a=Y.useRef(null),c=Y.useRef(null),p=Y.useRef(`search-${Math.random().toString(36).substr(2,9)}`);Y.useEffect((()=>{n(e)}),[e]);return z.jsxs("div",{className:"relative",children:[z.jsx("label",{htmlFor:p.current,className:"block text-sm font-medium text-gray-700 mb-1",children:s}),z.jsxs("div",{className:"relative",children:[z.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:z.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),z.jsx("input",{id:p.current,ref:c,type:"search",value:i,onChange:e=>{const o=e.target.value;n(o),a.current&&clearTimeout(a.current),a.current=setTimeout((()=>{t(o)}),r)},className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:o,"aria-label":s}),i&&z.jsx("button",{type:"button",onClick:()=>{n(""),t(""),c.current.focus()},className:"absolute inset-y-0 right-0 pr-3 flex items-center","aria-label":"Limpar busca",children:z.jsx("svg",{className:"h-5 w-5 text-gray-400 hover:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})]})}mt.propTypes={value:Z.string,onChange:Z.func.isRequired,label:Z.string},gt.propTypes={message:Z.string.isRequired,onRetry:Z.func},ft.propTypes={onSearch:Z.func.isRequired,initialValue:Z.string,placeholder:Z.string,label:Z.string,debounceTime:Z.number};const bt=Y.memo(ft);function xt({isOpen:t,onClose:e,title:o,children:s,size:r="md",showCloseButton:i=!0}){const n=Y.useRef(null),a=Y.useRef(null);Y.useEffect((()=>{var e;return t?(a.current=document.activeElement,setTimeout((()=>{var t;return null==(t=n.current)?void 0:t.focus()}),10),document.body.style.overflow="hidden"):(document.body.style.overflow="",null==(e=a.current)||e.focus()),()=>{document.body.style.overflow=""}}),[t]),Y.useEffect((()=>{const o=o=>"Escape"===o.key&&t&&e();return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)}),[t,e]);return t?J.createPortal(z.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",onClick:t=>n.current&&!n.current.contains(t.target)&&e(),onKeyDown:t=>"Tab"===t.key&&(t=>{if(!n.current)return;const e=n.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(!e.length)return;const o=e[0],s=e[e.length-1];t.shiftKey&&document.activeElement===o?(s.focus(),t.preventDefault()):t.shiftKey||document.activeElement!==s||(o.focus(),t.preventDefault())})(t),role:"dialog","aria-modal":"true",children:z.jsx("div",{ref:n,className:`relative bg-white rounded-lg shadow-xl overflow-hidden w-full ${{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"}[r]}`,tabIndex:-1,"aria-labelledby":o?"modal-title":void 0,children:z.jsxs("div",{className:"p-4 sm:p-6",children:[(o||i)&&z.jsxs("div",{className:"flex items-start justify-between pb-3 border-b",children:[o&&z.jsx("h3",{id:"modal-title",className:"text-lg font-medium text-gray-900",children:o}),i&&z.jsx("button",{type:"button",className:"bg-white rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",onClick:e,"aria-label":"Fechar modal",children:z.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:z.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),z.jsx("div",{className:"mt-4",children:s})]})})}),document.body):null}function wt({product:t,index:e}){const[o,s]=Y.useState(!1),{name:r,productName:i,image:n,imageUrl:a,price:c,description:p,shortDescription:l}=t,h=r||i||"Produto",d=a||n||"https://via.placeholder.com/300x200?text=Sem+Imagem",u=p||l||"Sem descrição disponível",m="number"==typeof c?c.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):c,g=()=>s(!1);return z.jsxs(z.Fragment,{children:[z.jsxs("article",{className:"h-full flex flex-col border border-gray-200 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow duration-300","aria-labelledby":`product-${e}-name`,children:[z.jsx("div",{className:"relative pt-[75%] bg-gray-100",children:z.jsx("img",{src:d,alt:`Imagem do produto ${h}`,className:"absolute top-0 left-0 w-full h-full object-cover",loading:"lazy"})}),z.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[z.jsx("h3",{id:`product-${e}-name`,className:"text-lg font-medium text-gray-900 line-clamp-2 h-14 mb-1",children:h}),z.jsx("div",{className:"flex-grow min-h-[3rem] mb-3",children:z.jsx("p",{className:"text-sm text-gray-600 line-clamp-3","aria-label":"Descrição do produto",title:u,children:u})}),z.jsxs("div",{className:"mt-auto flex justify-between items-center",children:[z.jsx("p",{className:"text-lg font-bold text-blue-600","aria-label":"Preço do produto",children:m}),z.jsx("button",{type:"button",onClick:()=>s(!0),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500","aria-label":`Ver detalhes do produto ${h}`,children:"Detalhes"})]})]})]}),z.jsx(xt,{isOpen:o,onClose:g,title:h,size:"lg",children:z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[z.jsx("div",{className:"aspect-square relative bg-gray-100 rounded-lg overflow-hidden",children:z.jsx("img",{src:d,alt:`Imagem do produto ${h}`,className:"absolute top-0 left-0 w-full h-full object-contain"})}),z.jsxs("div",{children:[z.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:h}),z.jsx("p",{className:"text-2xl font-bold text-blue-600 mb-4",children:m}),z.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[z.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Descrição"}),z.jsx("p",{className:"text-gray-700",children:u})]}),t.specs&&z.jsxs("div",{className:"mt-6 border-t border-gray-200 pt-4",children:[z.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Especificações"}),z.jsx("dl",{children:Object.entries(t.specs).map((([t,e])=>z.jsxs("div",{className:"py-2 flex justify-between",children:[z.jsx("dt",{className:"text-sm font-medium text-gray-500",children:t}),z.jsx("dd",{className:"text-sm text-gray-900",children:e})]},t)))})]}),z.jsx("div",{className:"mt-6",children:z.jsx("button",{type:"button",className:"w-full inline-flex justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:g,children:"Fechar"})})]})]})})]})}xt.propTypes={isOpen:Z.bool.isRequired,onClose:Z.func.isRequired,title:Z.string,children:Z.node,size:Z.oneOf(["sm","md","lg","xl","full"]),showCloseButton:Z.bool},wt.propTypes={product:Z.shape({id:Z.string,name:Z.string,productName:Z.string,image:Z.string,imageUrl:Z.string,price:Z.oneOfType([Z.number,Z.string]),description:Z.string,shortDescription:Z.string,specs:Z.object}).isRequired,index:Z.number,totalProducts:Z.number};const vt=Y.memo(wt);function Pt({products:t=[],lastProductRef:e}){return Array.isArray(t)?0===t.length?z.jsxs("div",{className:"text-center py-10 bg-gray-50 rounded-lg",role:"status","aria-live":"polite",children:[z.jsx("p",{className:"text-lg text-gray-600",children:"Nenhum produto encontrado."}),z.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Tente ajustar seus filtros de busca."})]}):z.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 xl:gap-5",role:"region","aria-label":"Lista de produtos",children:t.map(((o,s)=>{const r=s===t.length-1;return z.jsx("div",{ref:r?e:null,className:"transition-all duration-300 ease-in hover:scale-[1.02]",children:z.jsx(vt,{product:o,index:s,totalProducts:t.length})},o.id||`product-${s}-${o.name}`)}))}):null}Pt.propTypes={products:Z.arrayOf(Z.shape({id:Z.string,name:Z.string,productName:Z.string})),lastProductRef:Z.func};const kt=Y.memo(Pt);function yt(){const{products:t,searchTerm:e,priceFilter:o,isLoading:s,isError:r,isFetchingNextPage:i,hasNextPage:n,error:a,displayTotalProducts:c,refetch:p,handleSearch:l,handlePriceFilterChange:h,lastProductRef:d}=function(){var t,e,o;const[s,r]=Y.useState(""),[i,n]=Y.useState("all"),a=H(),c=Y.useRef(0),p=Y.useRef(null),l=Y.useRef(null),{data:h,error:d,fetchNextPage:u,hasNextPage:m,isFetchingNextPage:g,isLoading:f,isError:b,refetch:x}=ut(s,i,c.current),w=(null==(t=null==h?void 0:h.pages)?void 0:t.flatMap(((t,e)=>{var o;return(null==(o=null==t?void 0:t.products)?void 0:o.length)?t.products.map(((t,o)=>{var s,r,i,n;return{id:`${e}-${o}`,name:t.productName||t.name||"Sem nome",productName:t.productName||t.name||"Sem nome",description:t.productDescription||t.description||"Sem descrição",image:t.productImg||t.image||"https://via.placeholder.com/150",price:parseFloat((null==(r=null==(s=t.productPrice)?void 0:s.replace("R$ ",""))?void 0:r.replace(",","."))||t.price||"0"),brand:(null==(i=t.productName)?void 0:i.split(" ")[0])||(null==(n=t.name)?void 0:n.split(" ")[0])||""}})):[]})))||[];Y.useEffect((()=>{if(p.current&&p.current.disconnect(),!f&&!g&&m)return p.current=new IntersectionObserver((t=>{t[0].isIntersecting&&m&&u()}),{threshold:.1}),l.current&&p.current.observe(l.current),()=>{var t;return null==(t=p.current)?void 0:t.disconnect()}}),[f,g,m,u]);const v=Y.useCallback((t=>{l.current=t,t&&p.current&&(p.current.disconnect(),p.current.observe(t))}),[]),P=Y.useCallback((t=>{a.removeQueries(),c.current+=1,r(t)}),[a]),k=Y.useCallback((t=>{a.removeQueries(),c.current+=1,n(t)}),[a]),y=(null==(o=null==(e=null==h?void 0:h.pages)?void 0:e[0])?void 0:o.total)||0;return{products:w,searchTerm:s,priceFilter:i,isLoading:f,isError:b,isFetchingNextPage:g,hasNextPage:m,error:d,displayTotalProducts:w.length>0?y:0,refetch:x,handleSearch:P,handlePriceFilterChange:k,lastProductRef:v}}();return z.jsxs("main",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[z.jsxs("section",{"aria-labelledby":"filter-heading",className:"mb-8",children:[z.jsx("h2",{id:"filter-heading",className:"sr-only",children:"Filtros de produto"}),z.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[z.jsx("div",{className:"md:col-span-2",children:z.jsx(bt,{onSearch:l,initialValue:e,label:"Buscar produtos",placeholder:"Digite o nome do produto..."})}),z.jsx("div",{children:z.jsx(mt,{value:o,onChange:h,label:"Filtrar por preço"})})]}),!s&&!r&&z.jsxs("div",{className:"mt-4 flex items-center flex-wrap",role:"status","aria-live":"polite",children:[z.jsx("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full",children:c>0?`${c} produto${1!==c?"s":""} encontrado${1!==c?"s":""}`:"Nenhum produto encontrado"}),e&&z.jsx("button",{onClick:()=>l(""),className:"ml-2 text-sm text-gray-500 hover:text-gray-700 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500","aria-label":"Limpar busca",children:"Limpar busca"}),"all"!==o&&z.jsx("button",{onClick:()=>h("all"),className:"ml-2 text-sm text-gray-500 hover:text-gray-700 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500","aria-label":"Limpar filtro de preço",children:"Limpar filtro de preço"})]})]}),r&&z.jsx(gt,{message:(null==a?void 0:a.message)||"Erro ao carregar produtos. Tente novamente mais tarde.",onRetry:()=>p()}),z.jsx("section",{"aria-label":"Resultados dos produtos",children:s?z.jsx(K,{isInitialLoading:!0}):z.jsxs(z.Fragment,{children:[!r&&z.jsx(kt,{products:t,lastProductRef:d}),i&&z.jsx("div",{"aria-live":"polite",className:"mt-4",children:z.jsx(K,{})}),!n&&t.length>0&&!r&&z.jsx("p",{className:"text-center text-gray-500 py-6 mt-4 bg-gray-50 border-t rounded-lg",role:"status","aria-live":"polite",children:"Não há mais produtos para carregar."})]})})]})}export{yt as default};
